import numpy as np

datos = np.array([
 [ 1. , 25. , 2.5, 4. , 3. , 68.2],
 [ 2. , 32. , 3.2, 3. , 4. , 72.5],
 [ 3. , 28. , 2.0, 5. , 2. , 65.9],
 [ 4. , 45. , 5.0, 2. , 5. , 81.4],
 [ 5. , 38. , 4.2, 3. , 4. , 75.3],
 [ 6. , 22. , 1.8, 6. , 2. , 64.7],
 [ 7. , 31. , 3.5, 4. , 4. , 73.1],
 [ 8. , 40. , 4.8, 2. , 3. , 77.8],
 [ 9. , 27. , 2.2, 5. , 3. , 66.3],
 [10. , 35. , 4.0, 3. , 4. , 74.5],
 [11. , 48. , 5.5, 1. , 5. , 83.6],
 [12. , 29. , 2.8, 4. , 3. , 70.2],
 [13. , 26. , 2.1, 5. , 2. , 65.5],
 [14. , 42. , 4.6, 2. , 4. , 79.1],
 [15. , 37. , 4.1, 3. , 4. , 74.8],
 [16. , 24. , 2.3, 6. , 3. , 67.3],
 [17. , 50. , 5.7, 1. , 5. , 84.5],
 [18. , 33. , 3.6, 4. , 3. , 72.8],
 [19. , 39. , 4.3, 3. , 4. , 76.2],
 [20. , 30. , 3.0, 5. , 3. , 69.9],
 [21. , 41. , 4.7, 2. , 4. , 78.3],
 [22. , 23. , 2.0, 6. , 2. , 65.7],
 [23. , 36. , 4.0, 3. , 4. , 74.2],
 [24. , 34. , 3.9, 3. , 4. , 73.7],
 [25. , 29. , 2.5, 5. , 3. , 68.4],
 [26. , 46. , 5.2, 2. , 5. , 82.1],
 [27. , 21. , 1.7, 6. , 2. , 64.3],
 [28. , 43. , 4.9, 2. , 4. , 80.0],
 [29. , 30. , 2.9, 5. , 3. , 69.1],
 [30. , 38. , 4.2, 3. , 4. , 75.0]
])

X = datos[:, 1:5]  
Y = datos[:, [5]]  

X = np.hstack([np.ones((X.shape[0], 1)), X])

#minimos cuadrados
Xt = X.T
XtX = Xt @ X
XtY = Xt @ Y
beta = np.linalg.inv(XtX) @ XtY

print("Coeficientes del modelo (β):")
print(f"Intercepto:                  {beta[0][0]:.4f}")
print(f"Edad:                        {beta[1][0]:.4f}")
print(f"Ingresos Mensuales:          {beta[2][0]:.4f}")
print(f"Horas Ejercicio x Semana:    {beta[3][0]:.4f}")
print(f"Nivel Educativo:             {beta[4][0]:.4f}")

nueva_persona = np.array([[1, 52, 1.7, 6, 5]])
prediccion = nueva_persona @ beta

print(f"\nPredicción del Índice de Bienestar: {prediccion[0][0]:.2f} (escala 0-100)")
